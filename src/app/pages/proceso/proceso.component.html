<h4 style="text-align: center;">MANTENIMIENTO PROCESO DE DEUDA - VALORES</h4>
<nz-card style="width:100%;" nzTitle="Filtros de búsqueda">
    <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()">
        <div nz-row [nzGutter]="20">
            <div nz-col class="gutter-row" [nzSpan]="4">
                <nz-form-item>
                    <nz-form-label nzRequired nzFor="email">Fecha Inicio</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="The input is not valid E-mail!">
                        <nz-date-picker formControlName="fecha" [(ngModel)]="fecIni" (ngModelChange)="onChange($event)"></nz-date-picker>
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div nz-col class="gutter-row" [nzSpan]="4">
                <nz-form-item>
                    <nz-form-label nzRequired nzFor="">Fecha Fin</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="The input is not valid E-mail!">
                        <nz-date-picker formControlName="fecha" [(ngModel)]="fecFin" (ngModelChange)="onChange($event)"></nz-date-picker>
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div nz-col class="gutter-row" [nzSpan]="6">
                <nz-form-item>
                    <nz-form-label>Tipo de Contribuyente</nz-form-label>
                    <nz-form-control>
                        <nz-select formControlName="tipoContri" name="select-validate" [(ngModel)]="tipoContrib" [nzDisabled]="true">
                            <nz-option nzValue="Principales" nzLabel="Principales"></nz-option>
                            <nz-option nzValue="Medianos" nzLabel="Medianos"></nz-option>
                            <nz-option nzValue="Pequeños" nzLabel="Pequeños"></nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div nz-col class="gutter-row" [nzSpan]="6">
                <nz-form-item>
                    <nz-form-label>Tipo de Valor</nz-form-label>
                    <nz-form-control>
                        <nz-select formControlName="tipoValor" name="select-validate" [(ngModel)]="tipoValor">
                            <nz-option nzValue="1" nzLabel="Impuesto Predial"></nz-option>
                            <nz-option nzValue="3" nzLabel="Arbitrios"></nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>
        <div nz-row [nzGutter]="20">
            <div nz-col class="gutter-row" [nzSpan]="12">
                <nz-form-item>
                    <nz-form-label nzRequired>Contribuyente &nbsp;</nz-form-label>
                    <nz-form-control [nzSm]="4">
                        <input id="note" type="text" nz-input formControlName="codigoContri" />
                    </nz-form-control>
                    <nz-form-label nzRequired><i nz-icon nzType="search" nzTheme="outline"></i> &nbsp;</nz-form-label>
                    <nz-form-control [nzSm]="14">
                        <input id="note" type="text" nz-input formControlName="nombreContri" />
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>
    </form>
</nz-card>
<nz-table #basicTable [nzData]="dataProceso">
    <thead>
        <tr>
            <th style="text-align:center;">Proceso</th>
            <th style="text-align:center;">Fecha</th>
            <!-- <th style="text-align:center;">Tipo de Contribuyente</th> -->
            <th style="text-align:center;">Tipo Valor</th>
            <th style="text-align:center;">Año Ini.</th>
            <th style="text-align:center;">Año Fin</th>
            <th style="text-align:center;">Monto Ini.</th>
            <th style="text-align:center;">Monto Fin</th>
            <th style="text-align:center;">Cantidad</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let data of dataProceso" (click)="changeActualDetalleProceso(data.pdl_id)" style="cursor:pointer;">
            <td style="text-align:center;">{{data.pdl_id}}</td>
            <td style="text-align:center;">{{data.pdl_fecpro | date:'Y-MM-dd'}}</td>
            <!-- <td style="text-align:center;">{{data.pdl_tipcon}}</td> -->
            <td style="text-align:center;">{{traduceTipVal(data.pdl_tipval)}}</td>
            <td style="text-align:center;">{{data.pdl_anoini}}</td>
            <td style="text-align:center;">{{data.pdl_anofin}}</td>
            <td style="text-align:center;">S/ {{data.pdl_monini | number: '1.2-2'}}</td>
            <td style="text-align:center;">S/ {{data.pdl_monfin | number: '1.2-2'}}</td>
            <td style="text-align:center;">{{data.pdl_cancon}}</td>
        </tr>
    </tbody>
</nz-table>

<button nz-button nzType="primary" [nzSize]="size" (click)="loadDataProceso()">
    Buscar
</button>
<button routerLink="/obtencion-deuda" nz-button nzType="primary" [nzSize]="size">
    Nuevo
</button>
<button nz-button nzType="primary" [nzSize]="size">
    Anular
</button>
<button nz-button nzType="primary" [nzSize]="size" (click)="detalleProceso()">
    Detalle
</button>
<button nz-button nzType="primary" [nzSize]="size">
    Excel
</button>